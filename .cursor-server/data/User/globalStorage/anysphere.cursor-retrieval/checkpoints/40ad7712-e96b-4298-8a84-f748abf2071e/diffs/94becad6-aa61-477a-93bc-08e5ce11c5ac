{"fsPath":"/root/itsbot/SYSTEMD.md","fileUuid":"94becad6-aa61-477a-93bc-08e5ce11c5ac","fileSizeBytes":4570,"numLines":187,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":188,"addedLines":["# üéÑ Christmas Bot - Systemd Service","","## ‚úÖ Service Status: RUNNING","","The Christmas bot is now running as a systemd service with these benefits:","- **Auto-starts** on system boot","- **Auto-restarts** if it crashes","- **High priority** scheduling for faster performance","- **Managed logs** through systemd","","## üìã Quick Commands","","### Using the Management Script (Recommended)","```bash","/root/itsbot/manage.sh status    # Check bot status","/root/itsbot/manage.sh logs      # View live logs","/root/itsbot/manage.sh claims    # View claim logs","/root/itsbot/manage.sh stats     # View statistics","/root/itsbot/manage.sh restart   # Restart bot","/root/itsbot/manage.sh stop      # Stop bot","/root/itsbot/manage.sh start     # Start bot","```","","### Direct Systemd Commands","```bash","# Service management","systemctl status christmas-bot.service","systemctl restart christmas-bot.service","systemctl stop christmas-bot.service","systemctl start christmas-bot.service","","# Logs","journalctl -u christmas-bot.service -f        # Live logs","journalctl -u christmas-bot.service -n 100    # Last 100 lines","","# Auto-start","systemctl enable christmas-bot.service        # Enable auto-start","systemctl disable christmas-bot.service       # Disable auto-start","```","","## üìä Service Details","","**Service Name:** `christmas-bot.service`","**Service Type:** Ultra-Fast FCFS (main_fast.py)","**Working Directory:** `/root/itsbot`","**Wallet Offset:** 0","**Priority:** High (Nice: -10, Realtime I/O)","","**Auto-start:** ‚úÖ Enabled","**Auto-restart:** ‚úÖ Enabled (10 second delay)","**Current Status:** üü¢ Running","","## üìÅ Log Files","","### Systemd Logs","- **Output:** `/root/itsbot/systemd_output.log`","- **Errors:** `/root/itsbot/systemd_error.log`","","### Bot Claim Logs","- **Claims:** `/root/itsbot/advent_log_fast_0.txt`","","View claim logs:","```bash","tail -f /root/itsbot/advent_log_fast_0.txt","```","","## üéØ What the Bot Does","","1. **Waits** for the next hour (XX:59:50)","2. **Warms** connections at XX:59:50","3. **Starts burst** at XX:59:58 (2 seconds early)","4. **Fires 10 concurrent requests** simultaneously","5. **Continues** until XX:00:10 for retries","6. **Logs** all attempts to claim logs","","## üîß Configuration","","### Change Wallet Offset","Edit the service file:","```bash","nano /etc/systemd/system/christmas-bot.service","```","Change: `ExecStart=/usr/bin/python3 /root/itsbot/main_fast.py --offset 0`","To: `ExecStart=/usr/bin/python3 /root/itsbot/main_fast.py --offset 1`","","Then reload:","```bash","systemctl daemon-reload","systemctl restart christmas-bot.service","```","","### Add More Wallets","Edit the wallet list:","```bash","nano /root/itsbot/main_fast.py","```","Find the `WALLETS` array and add addresses.","","Then restart:","```bash","systemctl restart christmas-bot.service","```","","## üöÄ Running Multiple Instances","","Want to run multiple offsets simultaneously? Create additional services:","","```bash","# Copy service file","cp /etc/systemd/system/christmas-bot.service \\","   /etc/systemd/system/christmas-bot-offset1.service","","# Edit the new service","nano /etc/systemd/system/christmas-bot-offset1.service","```","","Change:","- Description to include offset number","- `--offset 0` to `--offset 1`","- Log file names to avoid conflicts","","Then:","```bash","systemctl daemon-reload","systemctl enable christmas-bot-offset1.service","systemctl start christmas-bot-offset1.service","```","","## üîç Monitoring","","### Real-time Status Dashboard","```bash","watch -n 1 \"/root/itsbot/manage.sh status\"","```","","### Check Resource Usage","```bash","systemctl status christmas-bot.service","```","","### View Success Rate","```bash","/root/itsbot/manage.sh stats","```","","## üêõ Troubleshooting","","### Bot Not Starting","```bash","# Check logs for errors","journalctl -u christmas-bot.service -n 50","","# Verify Python and dependencies","python3 /root/itsbot/main_fast.py --offset 0","```","","### No Claims Showing","- **Normal!** Bot only claims once per hour","- Claims happen at the top of each hour","- Check: `tail -f /root/itsbot/advent_log_fast_0.txt`","","### Service Crashes","- Auto-restart is enabled (10 second delay)","- Check error logs: `journalctl -u christmas-bot.service -p err`","","### High CPU Usage","- **Normal during burst!** (XX:59:58 - XX:00:10)","- Should be low CPU rest of the time","","## üìà Performance Optimizations Applied","","‚úÖ **Nice value: -10** (higher CPU priority)","‚úÖ **Realtime I/O scheduling** (priority 0)","‚úÖ **Auto-restart on failure**","‚úÖ **Network-online.target** (waits for network)","‚úÖ **10 concurrent requests** per claim","‚úÖ **Connection pooling** (20 connections)","‚úÖ **DNS caching** (5 minutes)","","## üéÑ You're All Set!","","The bot is running and will automatically claim at the top of each hour.","Monitor it with: `/root/itsbot/manage.sh logs`","","Good luck with your claims! üöÄ","",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000001,1000003,1000004,1000005,1000006,1000007,1000001,1000008,1000001,1000009,1000010,1000011,1000012,1000013,1000014,1000015,1000016,1000017,1000018,1000001,1000019,1000010,1000020,1000021,1000022,1000023,1000024,1000001,1000025,1000026,1000027,1000001,1000028,1000029,1000030,1000018,1000001,1000031,1000001,1000032,1000033,1000034,1000035,1000036,1000001,1000037,1000038,1000039,1000001,1000040,1000001,1000041,1000042,1000043,1000001,1000044,1000045,1000001,1000046,1000010,1000047,1000018,1000001,1000048,1000001,1000049,1000050,1000051,1000052,1000053,1000054,1000001,1000055,1000001,1000056,1000057,1000010,1000058,1000018,1000059,1000060,1000001,1000061,1000010,1000062,1000022,1000018,1000001,1000063,1000064,1000010,1000065,1000018,1000066,1000001,1000067,1000010,1000022,1000018,1000001,1000068,1000001,1000069,1000001,1000010,1000070,1000071,1000072,1000001,1000073,1000074,1000018,1000001,1000075,1000076,1000077,1000078,1000001,1000079,1000010,1000062,1000080,1000081,1000018,1000001,1000082,1000001,1000083,1000010,1000084,1000018,1000001,1000085,1000010,1000021,1000018,1000001,1000086,1000010,1000087,1000018,1000001,1000088,1000001,1000089,1000010,1000090,1000091,1000001,1000092,1000093,1000018,1000001,1000094,1000095,1000096,1000097,1000001,1000098,1000099,1000100,1000001,1000101,1000102,1000103,1000001,1000104,1000001,1000105,1000106,1000107,1000108,1000109,1000110,1000111,1000001,1000112,1000001,1000113,1000114,1000001,1000115,1000001,1000001]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}